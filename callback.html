<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>

<script>
    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    $(document).ready(function() {
        const code = getParameterByName('code');
        const accessToken = localStorage.getItem('access_token');

        const data = {
            'grant_type': 'authorization_code',
            'client_id': '6b16e7bc1b893965f4192db9e9dc9354',
            'client_secret': 'AUhofUK7RCwX82fUIWGgSGplPl6SuBsQdNCTcZiU',
            'redirect_uri': 'https://sikhub.github.io/ch-demo-app/callback',
            'code': code
        }

        $.post('https://api.partners.dev.carthook.com/oauth/token', data, function(data) {
            console.log(data);
        });

    });
</script>